import streamlit as st
from typing import Dict, List
from dataclasses import dataclass

st.set_page_config(page_title="MBTI ì§ì—… ì¶”ì²œ (ì¤‘í•™ìƒìš©)", page_icon="ğŸ’", layout="centered")

# -------------------------------
# ë°ì´í„° ëª¨ë¸
# -------------------------------
@dataclass
class Career:
    name: str
    why: str
    subjects: List[str]
    skills: List[str]

# MBTI -> 3ê°œ ì§ì—… ë§¤í•‘ (ì¤‘í•™ìƒ ëˆˆë†’ì´ì— ë§ì¶° ìˆœí™”)
CAREER_MAP: Dict[str, List[Career]] = {
    "ISTJ": [
        Career("í† ëª©/ê±´ì¶• ì—”ì§€ë‹ˆì–´ ğŸ—ï¸", "ì²´ê³„ì™€ ê·œì¹™ì„ ì˜ ì§€ì¼œ í° í”„ë¡œì íŠ¸ë¥¼ ì°¨ê·¼ì°¨ê·¼ ì™„ì„±í•¨", ["ìˆ˜í•™", "ê³¼í•™", "ê¸°ìˆ Â·ê°€ì •"], ["ê³„íš ì„¸ìš°ê¸°", "ì„¸ë¶€ ì ê²€", "ì•ˆì „ ì˜ì‹"]),
        Career("íšŒê³„/ì¬ë¬´ ì „ë¬¸ê°€ ğŸ“Š", "ìˆ«ìì™€ ê¸°ë¡ì„ ì •í™•íˆ ë‹¤ë£¨ëŠ” ê°•ì ", ["ìˆ˜í•™", "ì‚¬íšŒ(ê²½ì œ)"], ["ì •í™•ì„±", "ì±…ì„ê°", "ìœ¤ë¦¬ì„±"]),
        Career("ë¬¼ë¥˜/ìš´ì˜ ë§¤ë‹ˆì € ğŸšš", "ë¬¼ê±´ì˜ ì´ë™ê³¼ ì¼ì • ê´€ë¦¬ì— ê°•í•¨", ["ì‚¬íšŒ", "ìˆ˜í•™"], ["ì¡°ì§ë ¥", "ë¬¸ì œ í•´ê²°", "ì˜ì‚¬ì†Œí†µ"]),
    ],
    "ISFJ": [
        Career("ê°„í˜¸ì‚¬/ë³´ê±´ ì „ë¬¸ê°€ ğŸ©º", "ë”°ëœ»í•¨ê³¼ ì±…ì„ê°ìœ¼ë¡œ ì‚¬ëŒì„ ì„¸ì‹¬í•˜ê²Œ ëŒë´„", ["ê³¼í•™(ìƒëª…)", "ë³´ê±´"], ["ê³µê°", "ì„±ì‹¤", "í˜‘ì—…"]),
        Career("ì´ˆë“±/ëŒë´„ êµì‚¬ ğŸ", "í•™ìƒì„ ì•ˆì •ì ìœ¼ë¡œ ì§€ë„í•˜ë©° ë°°ì›€ì„ ë•ëŠ” ë° ê°•ì ", ["êµ­ì–´", "ì‚¬íšŒ", "ì˜ˆì²´ëŠ¥"], ["ì¸ë‚´", "ê´€ì°°", "ì˜ì‚¬ì†Œí†µ"]),
        Career("ì‚¬ì„œ/ì •ë³´ íë ˆì´í„° ğŸ“š", "ìë£Œë¥¼ ì •ë¦¬í•˜ê³  í•„ìš”í•œ ì •ë³´ë¥¼ ì°¾ì•„ ì—°ê²°", ["êµ­ì–´", "ì‚¬íšŒ"], ["ì •ë¦¬ì •ëˆ", "ê²€ìƒ‰ ëŠ¥ë ¥", "ì¹œì ˆ"]),
    ],
    "INFJ": [
        Career("ì‹¬ë¦¬/ìƒë‹´ ì „ë¬¸ê°€ ğŸ§ ", "ì‚¬ëŒì˜ ë§ˆìŒì„ ê¹Šì´ ì´í•´í•˜ê³  ë•ê³ ì í•¨", ["ì‚¬íšŒ", "êµ­ì–´"], ["ê²½ì²­", "ë¶„ì„", "ìœ¤ë¦¬ì  íŒë‹¨"]),
        Career("ì‚¬íšŒë³µì§€ì‚¬ ğŸ¤", "ì‚¬íšŒì  ì•½ìë¥¼ ì§€ì›í•˜ê³  ë³€í™”ë¥¼ ë§Œë“œëŠ” ì¼ì— ê´€ì‹¬", ["ì‚¬íšŒ", "ë„ë•"], ["ì±…ì„ê°", "ê³µê°", "ê¸°íš"]),
        Career("ì‘ê°€/ì½˜í…ì¸  ê¸°íšì âœï¸", "ì•„ì´ë””ì–´ë¥¼ êµ¬ì¡°í™”í•´ ë©”ì‹œì§€ë¥¼ ì„¤ê³„", ["êµ­ì–´", "ì‚¬íšŒ"], ["ì°½ì˜ì„±", "ê¸°íš", "ì§‘ì¤‘ë ¥"]),
    ],
    "INTJ": [
        Career("ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸ ğŸ“ˆ", "ë…¼ë¦¬ì ìœ¼ë¡œ ê³„íší•˜ê³  ì¥ê¸° ì „ëµì„ ì„¸ì›€", ["ìˆ˜í•™", "ê³¼í•™", "ì •ë³´/ì»´í“¨í„°"], ["ëª¨ë¸ë§", "ë¶„ì„", "ë¬¸ì œ í•´ê²°"]),
        Career("ì—°êµ¬ê°œë°œ ì—”ì§€ë‹ˆì–´ ğŸ”¬", "ì§€ì‹ì„ ì‘ìš©í•´ ìƒˆë¡œìš´ ê²ƒì„ ì„¤ê³„", ["ìˆ˜í•™", "ê³¼í•™"], ["ê°€ì„¤ ì„¤ì •", "ì‹¤í—˜ ì„¤ê³„", "ì •ë°€í•¨"]),
        Career("ë„ì‹œ/ì „ëµ ê¸°íšì ğŸ§­", "ë³µì¡í•œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  ìµœì í™”", ["ì‚¬íšŒ(ì§€ë¦¬/ì •ì¹˜)"], ["ì‹œìŠ¤í…œ ì‚¬ê³ ", "ê³„íš", "ì¡°ì •ë ¥"]),
    ],
    "ISTP": [
        Career("í•­ê³µì •ë¹„/ë©”ì¹´ë‹‰ âœˆï¸", "ì†ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ì›ë¦¬ë¥¼ ë¹ ë¥´ê²Œ íŒŒì•…", ["ê³¼í•™", "ê¸°ìˆ Â·ê°€ì •"], ["ë„êµ¬ ë‹¤ë£¨ê¸°", "ì›ì¸ ë¶„ì„", "ì¹¨ì°©í•¨"]),
        Career("ë””ì§€í„¸ í¬ë Œì‹/ë³´ì•ˆ ğŸ”", "ê¸°ìˆ ì  ë‹¨ì„œë¥¼ ì°¾ì•„ ë…¼ë¦¬ë¡œ ì¶”ì ", ["ì •ë³´/ì»´í“¨í„°", "ìˆ˜í•™"], ["ë¶„ì„", "ì„¸ë¶€ ê´€ì°°", "ì§‘ì¤‘"]),
        Career("ë“œë¡ /ë¡œë´‡ ìš´ì˜ì ğŸ¤–", "ìƒˆë¡œìš´ ê¸°ê¸°ë¥¼ ì§ì ‘ ë‹¤ë£¨ë©° íš¨ìœ¨ì„ ì¤‘ì‹œ", ["ê³¼í•™", "ì •ë³´/ì»´í“¨í„°"], ["ì¡°ì‘", "íŠœë‹", "ë¬¸ì œ í•´ê²°"]),
    ],
    "ISFP": [
        Career("ê·¸ë˜í”½/ë¸Œëœë”© ë””ìì´ë„ˆ ğŸ¨", "ê°ê°ì ìœ¼ë¡œ ì•„ë¦„ë‹¤ì›€ì„ í‘œí˜„", ["ë¯¸ìˆ ", "êµ­ì–´"], ["ìƒ‰ì±„ ê°ê°", "í˜‘ì—…", "ê´€ì°°"]),
        Career("í”Œë¡œë¦¬ìŠ¤íŠ¸/ê³µê°„ ìŠ¤íƒ€ì¼ë¦¬ìŠ¤íŠ¸ ğŸŒ·", "ê°ì„±ì ì¸ ë¶„ìœ„ê¸° ì—°ì¶œ", ["ë¯¸ìˆ ", "ê¸°ìˆ Â·ê°€ì •"], ["ë””í…Œì¼", "ì†ê¸°ìˆ ", "ì„œë¹„ìŠ¤ ë§ˆì¸ë“œ"]),
        Career("ì…°í”„/ë””ì €íŠ¸ í¬ë¦¬ì—ì´í„° ğŸ°", "ë¯¸ê°ê³¼ ì°½ì˜ë¡œ ì¦ê±°ì›€ì„ ë§Œë“¦", ["ê¸°ìˆ Â·ê°€ì •", "ìˆ˜í•™(ê³„ëŸ‰)"], ["ìœ„ìƒ", "ì°½ì˜ì„±", "ì¸ë‚´"]),
    ],
    "INFP": [
        Career("ì‘ê°€/ì‹œë‚˜ë¦¬ì˜¤ ì‘ê°€ ğŸ“–", "ê°€ì¹˜ì™€ ìŠ¤í† ë¦¬ë¥¼ ì„¬ì„¸í•˜ê²Œ ë‹´ì•„ëƒ„", ["êµ­ì–´", "ì‚¬íšŒ"], ["ìƒìƒë ¥", "ì§‘ì¤‘", "ë©”ì‹œì§€ ì„¤ê³„"]),
        Career("ì²­ì†Œë…„ ì§€ë„ì‚¬/êµìœ¡ ì½˜í…ì¸  ì œì‘ì ğŸ’", "í•™ìƒì˜ ì„±ì¥ì„ ë•ëŠ” ì¼ì— ë³´ëŒ", ["ì‚¬íšŒ", "êµ­ì–´"], ["ê³µê°", "ê¸°íš", "ì†Œí†µ"]),
        Career("NGO/êµ­ì œê°œë°œ í™œë™ê°€ ğŸŒ", "ë” ë‚˜ì€ ì„¸ìƒì„ ìœ„í•œ í”„ë¡œì íŠ¸ì— ê´€ì‹¬", ["ì‚¬íšŒ", "ì™¸êµ­ì–´"], ["ê°€ì¹˜ì§€í–¥", "í˜‘ì—…", "ë¬¸ì œ í•´ê²°"]),
    ],
    "INTP": [
        Career("ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì ğŸ‘©â€ğŸ’»", "ì•„ì´ë””ì–´ë¥¼ ì•Œê³ ë¦¬ì¦˜ê³¼ ì½”ë“œë¡œ êµ¬í˜„", ["ì •ë³´/ì»´í“¨í„°", "ìˆ˜í•™"], ["ì¶”ìƒí™”", "ë””ë²„ê¹…", "ë…¼ë¦¬"]),
        Career("ì—°êµ¬ì›/ê³¼í•™ì ğŸ”­", "í˜¸ê¸°ì‹¬ìœ¼ë¡œ ì›ë¦¬ë¥¼ ê¹Šê²Œ íŒŒê³ ë“¦", ["ìˆ˜í•™", "ê³¼í•™"], ["ë¶„ì„", "ê°€ì„¤ ê²€ì¦", "ë¹„íŒì  ì‚¬ê³ "]),
        Career("ë°ì´í„° ë¶„ì„ê°€ ğŸ“Š", "ë°ì´í„°ì—ì„œ íŒ¨í„´ì„ ì°¾ì•„ ì„¤ëª…", ["ìˆ˜í•™", "ì •ë³´/ì»´í“¨í„°"], ["í†µê³„ì  ì‚¬ê³ ", "ì‹œê°í™”", "í•´ì„"]),
    ],
    "ESTP": [
        Career("ê¸°ì—…ê°€/ì„¸ì¼ì¦ˆ ë¦¬ë” ğŸš€", "í˜„ì¥ì—ì„œ ë¹ ë¥´ê²Œ íŒë‹¨í•˜ê³  ì‹¤í–‰", ["ì‚¬íšŒ", "ìˆ˜í•™"], ["ì„¤ë“", "ë„¤íŠ¸ì›Œí‚¹", "ê²°ë‹¨"]),
        Career("ìŠ¤í¬ì¸  ì½”ì¹˜/íŠ¸ë ˆì´ë„ˆ ğŸƒ", "ì—ë„ˆì§€ì™€ ì‹¤ì „ ê°ê°ìœ¼ë¡œ ì§€ë„", ["ì²´ìœ¡", "ê³¼í•™(ìƒë¦¬)"], ["ë™ê¸°ë¶€ì—¬", "í”¼ë“œë°±", "ë¦¬ë”ì‹­"]),
        Career("ì‘ê¸‰êµ¬ì¡°/í˜„ì¥ ëŒ€ì‘ ìš”ì› ğŸš‘", "ìœ„ê¸° ìƒí™©ì—ì„œ ì¹¨ì°©í•˜ê²Œ í–‰ë™", ["ê³¼í•™", "ë³´ê±´"], ["ì¹¨ì°©", "ì²´ë ¥", "í˜‘ì—…"]),
    ],
    "ESFP": [
        Career("í–‰ì‚¬/ì´ë²¤íŠ¸ í”Œë˜ë„ˆ ğŸ‰", "ë¶„ìœ„ê¸°ë¥¼ ì‚´ë¦¬ê³  ì‚¬ëŒì„ ì¦ê²ê²Œ í•¨", ["êµ­ì–´", "ì‚¬íšŒ"], ["ê¸°íš", "ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ì„¼ìŠ¤"]),
        Career("ê³µì—°/ì—”í„°í…Œì´ë„ˆ ğŸ­", "ë¬´ëŒ€ì—ì„œ ì¬ëŠ¥ì„ í‘œí˜„", ["ìŒì•…/ë¯¸ìˆ ", "êµ­ì–´"], ["ì°½ì˜ì„±", "í‘œí˜„ë ¥", "íŒ€ì›Œí¬"]),
        Career("ìŠ¹ë¬´ì›/ì„œë¹„ìŠ¤ ì „ë¬¸ê°€ âœˆï¸", "ì¹œì ˆê³¼ ë°°ë ¤ë¡œ ê²½í—˜ì„ ë””ìì¸", ["ì™¸êµ­ì–´", "ì‚¬íšŒ"], ["ì„œë¹„ìŠ¤ ë§ˆì¸ë“œ", "ìƒí™© ëŒ€ì²˜", "ê³µê°"]),
    ],
    "ENFP": [
        Career("ë§ˆì¼€íŒ…/ì½˜í…ì¸  í¬ë¦¬ì—ì´í„° ğŸ“£", "ì•„ì´ë””ì–´ë¡œ ì‚¬ëŒì˜ ê´€ì‹¬ì„ ëª¨ìŒ", ["êµ­ì–´", "ì‚¬íšŒ"], ["ìŠ¤í† ë¦¬í…”ë§", "ê¸°íš", "í˜‘ì—…"]),
        Career("êµì‚¬/ì—ë“€í…Œí¬ ê¸°íšì ğŸ§‘â€ğŸ«", "í•™ìŠµì„ ì¬ë¯¸ìˆê²Œ ì„¤ê³„", ["êµ­ì–´", "ì •ë³´/ì»´í“¨í„°"], ["ì†Œí†µ", "ì°½ì˜ì„±", "ê³µê°"]),
        Career("ì‚¬íšŒí˜ì‹ ê°€/ìŠ¤íƒ€íŠ¸ì—… ë©”ì´ì»¤ ğŸ§©", "ìƒˆë¡œìš´ í•´ê²°ì±…ìœ¼ë¡œ ë³€í™”ë¥¼ ì‹œë„", ["ì‚¬íšŒ", "ìˆ˜í•™"], ["ë¬¸ì œ ë°œê²¬", "ë„¤íŠ¸ì›Œí‚¹", "ì‹¤í–‰"]),
    ],
    "ENTP": [
        Career("ì œí’ˆ/ì„œë¹„ìŠ¤ ê¸°íšì ğŸ§ª", "ë‹¤ì–‘í•œ ì•„ì´ë””ì–´ë¥¼ ì‹¤í—˜í•˜ê³  ê°œì„ ", ["ìˆ˜í•™", "ì‚¬íšŒ"], ["ê°€ì„¤ ê²€ì¦", "ì„¤ë“", "ë¶„ì„"]),
        Career("ì°½ì—…ê°€/ë²¤ì²˜ ë¹Œë” ğŸ› ï¸", "ìƒˆë¡œìš´ ëª¨ë¸ì„ ë§Œë“¤ê³  í”¼ë´‡", ["ìˆ˜í•™", "ì‚¬íšŒ"], ["ì‹¤í—˜ì •ì‹ ", "ì „ëµ", "ë„¤íŠ¸ì›Œí‚¹"]),
        Career("ë¯¸ë””ì–´/ì •ì±… ë¶„ì„ê°€ ğŸ“°", "í† ë¡ ê³¼ ë…¼ë¦¬ë¡œ ê´€ì ì„ ì œì‹œ", ["ì‚¬íšŒ", "êµ­ì–´"], ["ë¹„íŒì  ì‚¬ê³ ", "ì„¤ë“", "ê¸€ì“°ê¸°"]),
    ],
    "ESTJ": [
        Career("í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € ğŸ“…", "ì‚¬ëŒê³¼ ìì›ì„ ì¡°ì§ì ìœ¼ë¡œ ì¡°ì •", ["ì‚¬íšŒ", "ìˆ˜í•™"], ["ë¦¬ë”ì‹­", "ê³„íš", "ì˜ì‚¬ê²°ì •"]),
        Career("ê²½ì°°/ê³µê³µ í–‰ì • ğŸ‘®", "ê·œì¹™ê³¼ ì§ˆì„œë¥¼ ìœ ì§€í•˜ë©° ë´‰ì‚¬", ["ì‚¬íšŒ", "ë„ë•"], ["ì •ì˜ê°", "ì±…ì„ê°", "ì†Œí†µ"]),
        Career("ìš´ì˜/ê³µì¥ ê´€ë¦¬ì ğŸ­", "í˜„ì¥ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬", ["ìˆ˜í•™", "ê³¼í•™"], ["ì ˆì°¨ ì„¤ê³„", "ì ê²€", "ë¦¬ìŠ¤í¬ ê´€ë¦¬"]),
    ],
    "ESFJ": [
        Career("HR/êµìœ¡ ì½”ë””ë„¤ì´í„° ğŸ§©", "ì‚¬ëŒì„ ì—°ê²°í•˜ê³  íŒ€ ë¶„ìœ„ê¸°ë¥¼ ì´ë”", ["ì‚¬íšŒ", "êµ­ì–´"], ["ì¡°ì •", "ë°°ë ¤", "ì†Œí†µ"]),
        Career("ê°„í˜¸/ë³´ê±´ ì½”ë””ë„¤ì´í„° ğŸ¥", "í˜„ì¥ì—ì„œ í™˜ìì™€ íŒ€ì„ ë™ì‹œì— ë°°ë ¤", ["ê³¼í•™", "ë³´ê±´"], ["ê³µê°", "í˜‘ì—…", "ì¡°ì§ë ¥"]),
        Career("í˜¸í…”/ê´€ê´‘ ë§¤ë‹ˆì € ğŸ¨", "ì„œë¹„ìŠ¤ í’ˆì§ˆì„ ê´€ë¦¬í•˜ê³  ê²½í—˜ì„ ì„¤ê³„", ["ì™¸êµ­ì–´", "ì‚¬íšŒ"], ["ì„œë¹„ìŠ¤", "ê¸°íš", "ì„¸ì‹¬í•¨"]),
    ],
    "ENFJ": [
        Career("êµì‚¬/êµìœ¡ ë¦¬ë” ğŸ", "í•™ìƒì˜ ê°€ëŠ¥ì„±ì„ ë°œê²¬í•˜ê³  ì„±ì¥ ì§€ì›", ["êµ­ì–´", "ì‚¬íšŒ"], ["ì½”ì¹­", "ê³µê°", "ì†Œí†µ"]),
        Career("ì»¤ë®¤ë‹ˆí‹°/ë¹„ì˜ë¦¬ ê¸°íšì ğŸ«¶", "ì‚¬ëŒì„ ëª¨ì•„ ê¸ì •ì  ë³€í™”ë¥¼ ë§Œë“¦", ["ì‚¬íšŒ", "êµ­ì–´"], ["ì¡°ì§", "í™ë³´", "ê¸°íš"]),
        Career("í™ë³´/ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì „ë¬¸ê°€ ğŸ“¢", "ë©”ì‹œì§€ë¥¼ ì„¤ê³„í•´ ì‚¬íšŒì™€ ì†Œí†µ", ["êµ­ì–´", "ì‚¬íšŒ"], ["ìŠ¤í† ë¦¬í…”ë§", "í˜‘ì—…", "ë¶„ì„"]),
    ],
    "ENTJ": [
        Career("ê²½ì˜/ì „ëµ ì»¨ì„¤í„´íŠ¸ ğŸ§ ", "í° ê·¸ë¦¼ì„ ê·¸ë ¤ ëª©í‘œë¥¼ ì´ë", ["ìˆ˜í•™", "ì‚¬íšŒ"], ["ì „ëµ", "ì˜ì‚¬ê²°ì •", "ë¶„ì„"]),
        Career("ë³€í˜¸ì‚¬/ì •ì±… ë¦¬ë” âš–ï¸", "ë³µì¡í•œ ë¬¸ì œë¥¼ êµ¬ì¡°í™”í•´ í•´ê²°", ["ì‚¬íšŒ", "êµ­ì–´"], ["ë…¼ë¦¬", "ì„¤ë“", "ëˆê¸°"]),
        Career("í”„ë¡œë•íŠ¸ ì˜¤ë„ˆ/ë””ë ‰í„° ğŸ¯", "ëª©í‘œë¥¼ ëª…í™•íˆ í•˜ê³  íŒ€ì„ ì´ë”", ["ìˆ˜í•™", "ì •ë³´/ì»´í“¨í„°"], ["ìš°ì„ ìˆœìœ„", "ë¦¬ë”ì‹­", "ì‹¤í–‰"]),
    ],
}

MBTI_TYPES = list(CAREER_MAP.keys())

# -------------------------------
# í—¬í¼
# -------------------------------

def render_career(c: Career):
    st.markdown(
        f"""
        **{c.name}**  
        â€¢ ì¶”ì²œ ì´ìœ : {c.why}  
        â€¢ ì–´ìš¸ë¦¬ëŠ” ê³¼ëª©: {', '.join(c.subjects)}  
        â€¢ í‚¤ì›Œë“œ: {', '.join(c.skills)}
        """
    )


def mission_suggestions(mbti: str) -> List[str]:
    base = {
        "maker": "ë©”ì´ì»¤ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°(ì˜ˆ: ê°„ë‹¨í•œ ë¡œë´‡/ì•±/ì›¹) ğŸ”§",
        "shadowing": "ì§ì—… ì¸í„°ë·°/ì§ë¬´ ì²´í—˜ ê¸°ë¡í•˜ê¸°(í•™êµ/ì§€ì—­ ì‚¬íšŒ) ğŸ“",
        "portfolio": "ì‘í’ˆÂ·ë³´ê³ ì„œ í¬íŠ¸í´ë¦¬ì˜¤ ì •ë¦¬í•˜ê¸°(ì‚¬ì§„+ì„¤ëª…) ğŸ“",
        "read": "ê´€ì‹¬ ì§„ë¡œ ì±…/ê¸°ì‚¬ 1í¸ ì½ê³  í•µì‹¬ 3ì¤„ ìš”ì•½í•˜ê¸° ğŸ“š",
        "present": "ì¹œêµ¬ì—ê²Œ 3ë¶„ ì†Œê°œìë£Œ ë§Œë“¤ê¸°(ë°œí‘œ ëŒ€ì‹  í¬ìŠ¤í„°) ğŸ¨",
    }
    # ìœ í˜•ë³„ ê°•ì¡° í¬ì¸íŠ¸ ì‚´ì§ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ
    if mbti in ("INTP", "INTJ", "ISTJ"):
        return [base["maker"], base["read"], base["portfolio"]]
    if mbti in ("ENFP", "ENFJ", "ESFP"):
        return [base["shadowing"], base["present"], base["portfolio"]]
    if mbti in ("ISTP", "ESTP"):
        return [base["maker"], base["shadowing"], base["portfolio"]]
    if mbti in ("ISFJ", "ESFJ"):
        return [base["shadowing"], base["read"], base["portfolio"]]
    if mbti in ("INFP", "INFJ"):
        return [base["read"], base["present"], base["portfolio"]]
    if mbti in ("ESTJ", "ENTJ", "ENTP"):
        return [base["maker"], base["present"], base["portfolio"]]
    if mbti in ("ISFP", ):
        return [base["present"], base["portfolio"], base["read"]]
    return [base["portfolio"], base["read"], base["shadowing"]]


# -------------------------------
# UI
# -------------------------------
with st.sidebar:
    st.markdown("""
    ### ğŸ’ MBTI ì§ì—… ì¶”ì²œ
    MBTIë¥¼ ê³ ë¥´ë©´, ì¤‘í•™ìƒ ëˆˆë†’ì´ì— ë§ì¶˜ **ì§ì—… 3ê°€ì§€**ì™€ 
    **ì–´ìš¸ë¦¬ëŠ” ê³¼ëª©/ëŠ¥ë ¥, ì‹¤ì²œ ë¯¸ì…˜**ì„ ë³´ì—¬ì¤˜ìš”!
    
    - ì¶”ê°€ ì„¤ì¹˜ âŒ (Streamlitë§Œ ì‚¬ìš©)
    - ë‹´ì„/ì§„ë¡œ ìˆ˜ì—…ì—ì„œ ë°”ë¡œ í™œìš© âœ…
    - ì´ëª¨ì§€ë¡œ ì§ê´€ì ì¸ ì´í•´ ë„ì™€ì¤˜ìš” âœ¨
    """)
    st.divider()
    st.caption("*MBTIëŠ” ì„±ê²© ê²½í–¥ì„ ì´í•´í•˜ëŠ” ë³´ì¡° ë„êµ¬ì´ë©°, ì§„ë¡œë¥¼ ì œí•œí•˜ì§€ ì•Šì•„ìš”!*")

st.title("ğŸ§­ MBTI ê¸°ë°˜ ì§ì—… ì¶”ì²œ (ì¤‘í•™ìƒìš©)")
st.write("ì›í•˜ëŠ” MBTI ìœ í˜•ì„ ì„ íƒí•˜ë©´ ë§ì¶¤ ì¶”ì²œì„ ë³´ì—¬ì¤˜ìš”. ìì‹ ê³¼ ê°€ê¹Œìš´ ìœ í˜• ì—¬ëŸ¬ ê°œë¥¼ ëˆŒëŸ¬ ë¹„êµí•´ë„ ì¢‹ì•„ìš”!")

# ì„ íƒ
col1, col2 = st.columns(2)
with col1:
    mbti = st.selectbox("MBTIë¥¼ ì„ íƒí•˜ì„¸ìš”", MBTI_TYPES, index=MBTI_TYPES.index("ENFP") if "ENFP" in MBTI_TYPES else 0)
with col2:
    show_details = st.toggle("ê³¼ëª©/í‚¤ì›Œë“œ ìì„¸íˆ ë³´ê¸°", value=True)

# ê²°ê³¼ ì¶œë ¥
if mbti:
    st.subheader(f"ğŸ” {mbti} ìœ í˜• ì¶”ì²œ ì§ì—… 3ê°€ì§€")
    careers = CAREER_MAP.get(mbti, [])
    if not careers:
        st.info("í•´ë‹¹ ìœ í˜•ì˜ ë°ì´í„°ê°€ ì•„ì§ ì—†ì–´ìš”. ë‹¤ë¥¸ ìœ í˜•ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.")
    else:
        for i, c in enumerate(careers, start=1):
            with st.container(border=True):
                st.markdown(f"**{i}. {c.name}**")
                st.markdown(f"ì¶”ì²œ ì´ìœ : {c.why}")
                if show_details:
                    st.markdown(f"ì–´ìš¸ë¦¬ëŠ” ê³¼ëª©: **{', '.join(c.subjects)}**")
                    st.markdown(f"í‚¤ì›Œë“œ: **{', '.join(c.skills)}**")

        st.markdown("\n")
        with st.container(border=True):
            st.markdown("### ğŸ§ª ì˜¤ëŠ˜ì˜ ì§„ë¡œ ë¯¸ì…˜ 3ê°€ì§€")
            for m in mission_suggestions(mbti):
                st.markdown(f"- {m}")

# ë¹„êµ ë³´ê¸°
st.markdown("\n")
with st.expander("ğŸ‘€ ë‹¤ë¥¸ ìœ í˜•ê³¼ ë¹ ë¥¸ ë¹„êµí‘œ"):
    st.markdown("MBTI 16ìœ í˜•ì˜ ëŒ€í‘œ í‚¤ì›Œë“œë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆì–´ìš”.")
    header = "|ìœ í˜•|í•µì‹¬ í‚¤ì›Œë“œ|\n|---|---|\n"
    rows = []
    keyword_presets = {
        "ISTJ": "ê³„íšÂ·ì •í™•ì„±Â·ì±…ì„",
        "ISFJ": "ë°°ë ¤Â·ì„±ì‹¤Â·ì•ˆì •",
        "INFJ": "í†µì°°Â·ê°€ì¹˜Â·ë„ì›€",
        "INTJ": "ì „ëµÂ·ë¶„ì„Â·ëª©í‘œ",
        "ISTP": "ì‹¤ì „Â·ë¶„ì„Â·ì¹¨ì°©",
        "ISFP": "ê°ì„±Â·ë¯¸ê°Â·ììœ ",
        "INFP": "ê°€ì¹˜Â·ì°½ì˜Â·ë°°ë ¤",
        "INTP": "ë…¼ë¦¬Â·íƒêµ¬Â·í˜¸ê¸°ì‹¬",
        "ESTP": "ì‹¤í–‰Â·ë„ì „Â·ì—ë„ˆì§€",
        "ESFP": "ì‚¬êµÂ·í‘œí˜„Â·ì¬ë¯¸",
        "ENFP": "ì•„ì´ë””ì–´Â·ì†Œí†µÂ·ì—´ì •",
        "ENTP": "í† ë¡ Â·ì‹¤í—˜Â·ìœ ì—°",
        "ESTJ": "ì¡°ì§Â·ê·œì¹™Â·íš¨ìœ¨",
        "ESFJ": "í˜‘ë ¥Â·ë°°ë ¤Â·ê´€ë¦¬",
        "ENFJ": "ë¦¬ë”ì‹­Â·ì½”ì¹­Â·ê³µê°",
        "ENTJ": "ë¦¬ë”©Â·ì „ëµÂ·ê²°ë‹¨",
    }
    for t in MBTI_TYPES:
        rows.append(f"|{t}|{keyword_presets.get(t, '-') }|")
    st.markdown(header + "\n".join(rows))

# í•˜ë‹¨ ì•ˆë‚´
st.divider()
st.caption("â“˜ ë³¸ ì„œë¹„ìŠ¤ëŠ” í•™êµ ì§„ë¡œ/ì§„í•™ ìƒë‹´ ë³´ì¡°ìš©ì…ë‹ˆë‹¤. ê°œì¸ì˜ í¥ë¯¸Â·ê²½í—˜Â·ê°€ì¹˜ì— ë”°ë¼ ë‹¤ì–‘í•œ ì§„ë¡œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ğŸ’™")
